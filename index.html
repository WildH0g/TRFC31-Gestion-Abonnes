<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
  <style>
    * {
      margin: 0;
      padding: 0;
    }
    div {
      border: 0px dashed lightgray;
      /* background-color: grey; */
    }
    div.v-hidden {
      visibility: hidden;
    }
  </style>
  <title>TRFC Gestion des membres</title>
</head>
<div>
  <div class="container">
    <div class="row">
      <div class="col">
        <div class="row">
          <div class="col">
            <select class="form-select user-list">
              <option selected>Chargement des adhÃ©rents en cours...</option>
            </select>

          </div>
          <div class="col">
            <span class="input-group mb-3">
              <input type="text" class="form-control user-filter" placeholder="Filtrer les adhÃ©rents" aria-label="Username" aria-describedby="basic-addon1">
              <button class="btn btn-outline-primary" id="basic-addon1">ðŸ”Ž</button>
            </span>
          </div>
          <div class="col">
            <button type="button" class="btn btn-danger" onclick="deleteUser()">Supprimer</button>
            <button type="button" class="btn btn-success" onclick="addUser()">Ajouter</button>
          </div>
        </div>
      </div>
    </div>
      <div class="row">
        <div class="col-6"><h2>Donn&eacute;es personnelles</h2>
        </div>
        <div class="col-6"><h2>Repr&eacute;sentants l&eacute;gaux</h2></div>
      </div>
      <div class="row user-block v-hidden">
        <div class="col">
          <div class="row">
            <div class="col">
              <img class="img-fluid user-avatar" alt="Photo">
              <br>
              <div class="input-group mb-3">
                <label class="input-group-text" for="inputGroupFile01">Upload</label>
                <input type="file" class="form-control avatar-upload" id="inputGroupFile01">
              </div>
            </div>
              <div class="col">
                <div class="row">
                  <div class="col-4">Nom</div>
                  <div class="col-8">
                    <input type="text" 
                      class="form-control user lastName" 
                      placeholder="Nom"
                      data-field="lastName"
                    >
                  </div>
                </div>
              <div class="col">
                <div class="row">
                  <div class="col-4">PrÃ©nom</div>
                  <div class="col-8">
                    <input type="text" 
                      class="form-control user firstName" 
                      placeholder="PrÃ©nom"
                      data-field="firstName"
                      >
                  </div>
                </div>
              </div>
              <div class="col">
                <div class="row">
                  <div class="col-4">Date de naissaince</div>
                  <div class="col-8">
                    <input type="date" 
                      class="form-control user birthDate"
                      data-field="birthDate"
                    >
                  </div>
                </div>
              </div>
              <div class="col">
                <div class="row">
                  <div class="col-4">Lieu de naissance</div>
                  <div class="col-8">
                    <input type="text" 
                      class="form-control user birthPlace" 
                      placeholder="Lieu de naissance"
                      data-field="birthPlace"
                    >
                  </div>
                </div>
              </div>
              <div class="col">
                <div class="row">
                  <div class="col-4">Adresse</div>
                  <div class="col-8">
                    <input type="text" 
                      class="form-control user address" 
                      placeholder="Adresse" 
                      data-field="address"
                    >
                  </div>
                </div>
              </div>
              <div class="col">
                <div class="row">
                  <div class="col-4">TÃ©lÃ©phone</div>
                  <div class="col-8">
                    <input type="text" 
                      class="form-control user phone" 
                      placeholder="TÃ©lÃ©phone"
                      data-field="phone"
                    >
                  </div>
                </div>
              </div>
              <div class="col">
                <div class="row">
                  <div class="col-4">License</div>
                  <div class="col-8">
                    <input type="text" 
                      class="form-control user license" 
                      placeholder="License  "
                      data-field="license"
                    >
                </div>                
              </div>
            </div>
            <div class="col">
              <div class="row">
                <div class="col-4">Commentaires</div>
                <div class="col-8">
                  <textarea
                    class="form-control user comments" 
                    placeholder="Commentaires  "
                    data-field="comments"
                  ></textarea>
              </div>                
            </div>
          </div>
            </div>
            <div class="col-6">
              <div class="row">
                <div class="col-11">
                  <select class="form-select legal-reps" aria-label="Default select example">
                    <option selected>Chargement...</option>
                  </select>
                </div>
                <div class="col-1">
                  <button class="btn btn-danger" onclick="removeLegalRep()">-</button>
                </div>
              </div>
            <div class="legal-reps-block v-hidden">
              <div class="row">
                <div class="col-4">Nom</div>
                <div class="col-8">
                  <input 
                    type="text" 
                    class="form-control legal-rep lastName" 
                    data-field="lastName"
                    placeholder="Nom"
                  >
                </div>
              </div>
              <div class="row">
                <div class="col-4">Pr&eacute;nom</div>
                <div class="col-8">
                  <input type="text" 
                    class="form-control legal-rep firstName" 
                    placeholder="PrÃ©nom"
                    data-field="firstName"
                  >
                </div>
              </div>
              <div class="row">
                <div class="col-4">Emails</div>
                <div class="col-8">
                  <textarea 
                    class="form-control legal-rep emails" 
                    data-field="emails"
                  ></textarea>
                </div>
              </div>
              <div class="row">
                <div class="col-4">T&eacute;l&eacute;phones</div>
                <div class="col-8">
                  <textarea 
                    class="form-control legal-rep phones" 
                    data-field="phones"
                  ></textarea>
                </div>
              </div>
              <div class="row">
                <div class="col-4">Date de naissance</div>
                <div class="col-8">
                  <input type="date" 
                    class="form-control legal-rep birthDate" 
                    placeholder="Date de naissance"
                    data-field="birthDate"
                  >
                </div>
              </div>
              <div class="row">
                <div class="col-4">Profession</div>
                <div class="col-8">
                  <input type="text" 
                    class="form-control legal-rep profession" 
                    placeholder="Profession"
                    data-field="profession"
                    >
                </div>
              </div>
              <div class="row">
                <div class="col-4">Adresse</div>
                <div class="col-8">
                  <input 
                    type="text" 
                    class="form-control legal-rep address" 
                    placeholder="Adresse" 
                    data-field="address"
                  >
                </div>
              </div>
            </div>
              <div class="row">
                <div class="col">
                  <center>
                    <button class="btn-primary" onclick="addLegalRep()">&nbsp;&nbsp;&nbsp;+&nbsp;&nbsp;&nbsp;</button>
                  </center>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col"><h2>R&egrave;glements</h2></div>
      </div>
      <div class="row">
        <div class="col">
          <table class="table">
            <thead>
              <th>Date</th>
              <th>Somme</th>
              <th>P&eacute;riode</th>
              <th>Supprimer</th>
            </thead>
            <tbody class="payments">
              <!-- <tr>
                <td>2020-09-15</td>
                <td>100 &euro;</td>
                <td>2021-12-31</td>
                <td><button class="btn btn-danger">-</button></td>
              </tr> -->
            </tbody>
          </table>
        </div>
      </div>
      <div class="row">
        <center>
          <button class="btn-primary add-payment" onclick="addPayment()">&nbsp;&nbsp;&nbsp;+&nbsp;&nbsp;&nbsp;</button>
        </center>
      </div>
    </div>
  </div>
  <script>
    const isLocal = (/127\.0\.0\.1/.test(window.location.href));
    ;(() => {
      if (!isLocal) return console.log('Running online');
      console.log('Running locally');

      const scripts = [
        'TestData.js',
        'MockData.js',
        'Utils.ignore.js',
        'App.js',
        'UserManagement.ignore.js'
      ];

      const addScript = src => {
        console.log('adding script ' + src);
        const script = document.createElement('script');
        script.src = src;
        document.body.append(script);
      }

      window.onload = () => {
        scripts.forEach(addScript);
      } 

    })();
  </script>
  <?!= include("UtilsJS") ?>
  <?!= include("UserManagementJS") ?>
</body>
</html> 